{"version":3,"sources":["utils.js","components/FoodList.jsx","components/LoginForm.jsx","components/MyCart.jsx","components/SignupForm.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["login","credential","loginUrl","username","password","fetch","method","headers","credentials","then","response","status","Error","signup","data","body","JSON","stringify","Option","Select","AddToCartButton","itemId","useState","loading","setLoading","title","type","icon","PlusOutlined","onClick","addItemToCart","message","success","catch","err","error","finally","FoodList","foodData","setFoodData","curRest","setCurRest","restaurants","setRestaurants","loadingRest","setLoadingRest","useEffect","json","restId","value","onSelect","placeholder","style","width","onChange","map","item","id","name","marginTop","grid","gutter","xs","sm","md","lg","xl","xxl","dataSource","renderItem","Item","extra","src","imageUrl","alt","height","display","price","LoginForm","state","onFinish","setState","props","onSuccess","render","margin","rules","required","prefix","UserOutlined","Password","LockOutlined","htmlType","React","Component","Text","Typography","MyCart","cartVisible","setCartVisible","cartData","setCartData","checking","setChecking","onCloseDrawer","shape","onClose","visible","footer","justifyContent","strong","totalPrice","marginRight","disabled","orderItemList","length","itemLayout","Meta","menuItem","description","SignupForm","displayModal","handleCancel","signupOnClick","onCancel","destroyOnClose","initialValues","remember","preserve","Header","Layout","Content","Title","App","authed","setAuthed","className","level","color","lineHeight","marginBottom","padding","maxHeight","overflowY","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","StrictMode"],"mappings":"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","file":"static/js/main.a67be7d3.chunk.js","sourcesContent":["//export 是导出的意思\r\nexport const login = (credential) => {\r\n  //fetch API\r\n    const loginUrl = `/login?username=${credential.username}&password=${credential.password}`;\r\n  \r\n    return fetch(loginUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    }).then((response) => {\r\n      if (response.status < 200 || response.status >= 300) {\r\n        throw Error(\"Fail to log in\");\r\n      }\r\n    });\r\n    //Promise 可以理解成 返回的data 包含在这里面\r\n  };\r\n  \r\n  export const signup = (data) => {\r\n    const signupUrl = \"/signup\";\r\n  \r\n    return fetch(signupUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      //前面是发送到 loginURL里面的，后面是发送到body里面的\r\n      body: JSON.stringify(data),\r\n    }).then((response) => {\r\n      if (response.status < 200 || response.status >= 300) {\r\n        throw Error(\"Fail to sign up\");\r\n      }\r\n    });\r\n  };\r\n  \r\n  export const getMenus = (restId) => {\r\n    return fetch(`/restaurant/${restId}/menu`).then((response) => {\r\n      if (response.status < 200 || response.status >= 300) {\r\n        throw Error(\"Fail to get menus\");\r\n      }\r\n  \r\n      return response.json();\r\n    });\r\n  };\r\n  \r\n  export const getRestaurants = () => {\r\n    return fetch(\"/restaurants\").then((response) => {\r\n      if (response.status < 200 || response.status >= 300) {\r\n        throw Error(\"Fail to get restaurants\");\r\n      }\r\n  \r\n      return response.json();\r\n    });\r\n  };\r\n  \r\n  export const getCart = () => {\r\n    return fetch(\"/cart\").then((response) => {\r\n      if (response.status < 200 || response.status >= 300) {\r\n        throw Error(\"Fail to get shopping cart data\");\r\n      }\r\n  \r\n      return response.json();\r\n    });\r\n  };\r\n  \r\n  export const checkout = () => {\r\n    return fetch(\"/checkout\").then((response) => {\r\n      if (response.status < 200 || response.status >= 300) {\r\n        throw Error(\"Fail to checkout\");\r\n      }\r\n    });\r\n  };\r\n  \r\n  export const addItemToCart = (itemId) => {\r\n    return fetch(`/order/${itemId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    }).then((response) => {\r\n      if (response.status < 200 || response.status >= 300) {\r\n        throw Error(\"Fail to add menu item to shopping cart\");\r\n      }\r\n    });\r\n  };","import React from \"react\";\r\nimport { Button, Card, List, message, Select, Tooltip } from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { addItemToCart, getMenus, getRestaurants } from \"../utils\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst AddToCartButton = ({ itemId }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const AddToCart = () => {\r\n    setLoading(true);\r\n    addItemToCart(itemId)\r\n      .then(() => message.success(`Successfully add item`))\r\n      .catch((err) => message.error(err.message))\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Tooltip title=\"Add to shopping cart\">\r\n      <Button\r\n        loading={loading}\r\n        type=\"primary\"\r\n        icon={<PlusOutlined />}\r\n        onClick={AddToCart}\r\n      />\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\n/* \r\n1. state for the current restaurant\r\n2. state for the food of current restaurant\r\n3. state for loading\r\n4. state for all restaurants (only set the state once)\r\n*/\r\n\r\nconst FoodList = () => {\r\n  const [foodData, setFoodData] = useState([]);\r\n  const [curRest, setCurRest] = useState();\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingRest, setLoadingRest] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoadingRest(true);\r\n    getRestaurants()\r\n      .then((data) => {\r\n        setRestaurants(data);\r\n      })\r\n      .catch((err) => {\r\n        message.error(err.message);\r\n      })\r\n      .finally(() => {\r\n        setLoadingRest(false);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (curRest) {\r\n      setLoading(true);\r\n      getMenus(curRest)\r\n        .then((data) => {\r\n          setFoodData(data);\r\n        })\r\n        .catch((err) => {\r\n          message.error(err.message);\r\n        })\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [curRest]);\r\n\r\n  return (\r\n    <>\r\n      <Select\r\n        value={curRest}\r\n        onSelect={(value) => setCurRest(value)}\r\n        placeholder=\"Select a restaurant\"\r\n        loading={loadingRest}\r\n        style={{ width: 300 }}\r\n        onChange={() => {}}\r\n      >\r\n        {restaurants.map((item) => {\r\n          return <Option key={item.id} value={item.id}>{item.name}</Option>;\r\n        })}\r\n      </Select>\r\n      {curRest && (\r\n        <List\r\n          style={{ marginTop: 20 }}\r\n          loading={loading}\r\n          grid={{\r\n            gutter: 16,\r\n            xs: 1,\r\n            sm: 2,\r\n            md: 4,\r\n            lg: 4,\r\n            xl: 3,\r\n            xxl: 3,\r\n          }}\r\n          dataSource={foodData}\r\n          renderItem={(item) => (\r\n            <List.Item>\r\n              <Card\r\n                title={item.name}\r\n                extra={<AddToCartButton itemId={item.id} />}\r\n              >\r\n                <img\r\n                  src={item.imageUrl}\r\n                  alt={item.name}\r\n                  style={{ height: 340, width: \"100%\", display: \"block\" }}\r\n                />\r\n                {`Price: ${item.price}`}\r\n              </Card>\r\n            </List.Item>\r\n          )}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FoodList;","import { Button, Form, Input, message } from \"antd\";\r\nimport React from \"react\";\r\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { login } from \"../utils\";\r\n\r\nclass LoginForm extends React.Component {\r\n  state = {\r\n    loading: false,\r\n  };\r\n\r\n  onFinish = (data) => {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    login(data)\r\n      .then(() => {\r\n        message.success(`Login Successful`);\r\n        this.props.onSuccess();\r\n      })\r\n      .catch((err) => {\r\n        message.error(err.message);\r\n      })\r\n      .finally(() => {\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  render = () => {\r\n    return (\r\n      <Form\r\n        name=\"normal_login\"\r\n        onFinish={this.onFinish}\r\n        style={{\r\n          width: 300,\r\n          margin: \"auto\",\r\n        }}\r\n      >\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[{ required: true, message: \"Please input your Username!\" }]}\r\n        >\r\n          <Input prefix={<UserOutlined />} placeholder=\"Username\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: \"Please input your Password!\" }]}\r\n        >\r\n          <Input.Password prefix={<LockOutlined />} placeholder=\"Password\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading}>\r\n            Login\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  };\r\n}\r\n\r\nexport default LoginForm;","import React from \"react\";\r\nimport { Button, Drawer, List, message, Typography } from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { checkout, getCart } from \"../utils\";\r\n\r\nconst { Text } = Typography;\r\n\r\nconst MyCart = () => {\r\n  const [cartVisible, setCartVisible] = useState(false);\r\n  const [cartData, setCartData] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [checking, setChecking] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!cartVisible) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    getCart()\r\n      .then((data) => {\r\n        setCartData(data);\r\n      })\r\n      .catch((err) => {\r\n        message.error(err.message);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, [cartVisible]);\r\n\r\n  const onCheckOut = () => {\r\n    setChecking(true);\r\n    checkout()\r\n      .then(() => {\r\n        message.success(\"Successfully checkout\");\r\n        setCartVisible(false);\r\n      })\r\n      .catch((err) => {\r\n        message.error(err.message);\r\n      })\r\n      .finally(() => {\r\n        setChecking(false);\r\n      });\r\n  };\r\n\r\n  const onCloseDrawer = () => {\r\n    setCartVisible(false);\r\n  };\r\n\r\n  const onOpenDrawer = () => {\r\n    setCartVisible(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button type=\"primary\" shape=\"round\" onClick={onOpenDrawer}>\r\n        Cart\r\n      </Button>\r\n      <Drawer\r\n        title=\"My Shopping Cart\"\r\n        onClose={onCloseDrawer}\r\n        visible={cartVisible}\r\n        width={520}\r\n        footer={\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <Text strong={true}>{`Total price: $${cartData?.totalPrice}`}</Text>\r\n            <div>\r\n              <Button onClick={onCloseDrawer} style={{ marginRight: 8 }}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={onCheckOut}\r\n                type=\"primary\"\r\n                loading={checking}\r\n                disabled={loading || cartData?.orderItemList.length === 0}\r\n              >\r\n                Checkout\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        }\r\n      >\r\n        <List\r\n          loading={loading}\r\n          itemLayout=\"horizontal\"\r\n          dataSource={cartData?.orderItemList}\r\n          renderItem={(item) => (\r\n            <List.Item>\r\n              <List.Item.Meta\r\n                title={item.menuItem.name}\r\n                description={`$${item.price}`}\r\n              />\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </Drawer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyCart;","import { Button, Form, Input, message, Modal } from \"antd\";\r\nimport React from \"react\";\r\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { signup } from \"../utils\";\r\n\r\nclass SignupForm extends React.Component {\r\n  state = {\r\n    displayModal: false,\r\n  };\r\n\r\n  handleCancel = () => {\r\n    this.setState({\r\n      displayModal: false,\r\n    });\r\n  };\r\n\r\n  signupOnClick = () => {\r\n    this.setState({\r\n      displayModal: true,\r\n    });\r\n  };\r\n\r\n  onFinish = (data) => {\r\n    signup(data)\r\n      .then(() => {\r\n        this.setState({\r\n          displayModal: false,\r\n        });\r\n        message.success(`Successfully signed up`);\r\n      })\r\n      .catch((err) => {\r\n        message.error(err.message);\r\n      });\r\n  };\r\n\r\n  render = () => {\r\n    return (\r\n      <>\r\n        <Button shape=\"round\" type=\"primary\" onClick={this.signupOnClick}>\r\n          Register\r\n        </Button>\r\n        <Modal\r\n          title=\"Register\"\r\n          visible={this.state.displayModal}\r\n          onCancel={this.handleCancel}\r\n          footer={null}\r\n          destroyOnClose={true}\r\n        >\r\n          <Form\r\n            name=\"normal_register\"\r\n            initialValues={{ remember: true }}\r\n            onFinish={this.onFinish}\r\n            preserve={false}\r\n          >\r\n            <Form.Item\r\n              name=\"email\"\r\n              rules={[{ required: true, message: \"Please input your email!\" }]}\r\n            >\r\n              <Input prefix={<UserOutlined />} placeholder=\"Email\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[\r\n                { required: true, message: \"Please input your password!\" },\r\n              ]}\r\n            >\r\n              <Input prefix={<LockOutlined />} placeholder=\"Password\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"firstName\"\r\n              rules={[\r\n                { required: true, message: \"Please input your first name!\" },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"firstname\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"lastName\"\r\n              rules={[\r\n                { required: true, message: \"Please input your last name!\" },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"lastname\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Register\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Modal>\r\n      </>\r\n    );\r\n  };\r\n}\r\n\r\nexport default SignupForm;\r\n","import React from \"react\";\nimport { Layout, Typography } from \"antd\";\nimport { useState } from \"react\";\nimport FoodList from \"./components/FoodList\";\nimport LoginForm from \"./components/LoginForm\";\nimport MyCart from \"./components/MyCart\";\nimport SignupForm from \"./components/SignupForm\";\n\nconst { Header, Content } = Layout;\nconst { Title } = Typography;\n\nfunction App() {\n  const [authed, setAuthed] = useState(false);\n\n  return (\n    <Layout style={{ height: \"100vh\" }}>\n      <Header>\n        <div className=\"header\">\n          <Title\n            level={2}\n            style={{ color: \"white\", lineHeight: \"inherit\", marginBottom: 0 }}\n          >\n            Lai Food\n          </Title>\n          <div>{authed ? <MyCart /> : <SignupForm />}</div>\n        </div>\n      </Header>\n      <Content\n        style={{\n          padding: \"50px\",\n          maxHeight: \"calc(100% - 64px)\",\n          overflowY: \"auto\",\n        }}\n      >\n        {authed ? (\n          <FoodList />\n        ) : (\n          <LoginForm onSuccess={() => setAuthed(true)} />\n        )}\n      </Content>\n    </Layout>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}